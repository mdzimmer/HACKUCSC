(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"C:\\HACKUCSC\\src\\js\\entities\\background.js":[function(require,module,exports){

var Background = function (game, x, y, income, type) {
    Phaser.Sprite.call(this, game, x, y, 'background');
    game.add.existing(this);
    this.numPeople = 0;
   	this.groups = [];
   	this.type = type;
    this.incomeLevel = null;
    if (income === 'low') {
    	this.incomeLevel = 'low';
    }
    else if (income === 'mid') {
    	this.incomeLevel = 'mid';
    }
    else if (income === 'high') {
    	this.incomeLevel = 'high';
    }
};

Background.prototype = Object.create(Phaser.Sprite.prototype);
Background.prototype.constructor = Background;

Background.prototype.update = function() {
};

module.exports = Background;
},{}],"C:\\HACKUCSC\\src\\js\\entities\\background_manager.js":[function(require,module,exports){
//Controls background elements

var Background = require('./background');
var Player = require('./player');
var util = require('../utils');

var Background_Manager = function(game) {
	this.game = game;

	//Create array of backgrounds
	var bgArray = [
		new Background(this.game, 0, 0, 'low', 'work'),												// bgArray[0] == workLow
		new Background(this.game, this.game.width / 3, 0, 'mid', 'work'),							// bgArray[1] == workMid
		new Background(this.game, 2 * this.game.width / 3, 0, 'high', 'work'),						// bgArray[2] == workMid
		new Background(this.game, 0, this.game.height / 3, 'low', 'house'),							// bgArray[3] == houseLow
		new Background(this.game, this.game.width / 3, this.game.height / 3, 'mid', 'house'),			// bgArray[4] == houseMid
		new Background(this.game, 2 * this.game.width / 3, this.game.height / 3, 'high', 'house'),	// bgArray[5] == houseMid
		new Background(this.game, 0, 2 * this.game.height / 3, '', 'unemployed'),					// bgArray[6] == unemployed
	];
	
	this.bgNames = {
		workLow    : bgArray[0],
		workMid    : bgArray[1],
		workHigh   : bgArray[2],
		houseLow   : bgArray[3],
		houseMid   : bgArray[4],
		houseHigh  : bgArray[5],
		unemployed : bgArray[6]
	};
	
	for (var i in bgArray) {
		if (bgArray[i].type == 'work') {
			if (bgArray[i].incomeLevel === 'low') {
				bgArray[i].tint = 0xe2402b;
			}
			else if (bgArray[i].incomeLevel === 'mid') {
				bgArray[i].tint = 0x56e22b;
			}
			else if (bgArray[i].incomeLevel === 'high') {
				bgArray[i].tint = 0x2b59e2;
			}
		}
		else if (bgArray[i].type == 'house') {
			if (bgArray[i].incomeLevel === 'low') {
				bgArray[i].tint = 0xe55340;
			}
			else if (bgArray[i].incomeLevel === 'mid') {
				bgArray[i].tint = 0x6ae246;
			}
			else if (bgArray[i].incomeLevel === 'high') {
				bgArray[i].tint = 0x5476dd;
			}
		}
		else { // Unemployed background
			bgArray[i].tint = 0x939393;
		}
	}
};

Background_Manager.prototype.constructor = Background_Manager;


Background_Manager.prototype.changeWork = function(source, destination, group) {
	
	// canTransfer(source, destination, group) Check if they can transfer up
	
	var index = source.groups.indexOf(group);
	if (index > -1) {
    	source.groups.splice(index, 1);
	}
	destination.groups.push(group);
	source.update(); // Used for changing background size
	destination.update();

	
};

Background_Manager.prototype.changeHouse = function(source, destination, group) {

};


module.exports = Background_Manager;
},{"../utils":"C:\\HACKUCSC\\src\\js\\utils.js","./background":"C:\\HACKUCSC\\src\\js\\entities\\background.js","./player":"C:\\HACKUCSC\\src\\js\\entities\\player.js"}],"C:\\HACKUCSC\\src\\js\\entities\\group.js":[function(require,module,exports){
//controls flocking for a group of person objects
var util = require('../utils');

var Group = function (game, centerX, centerY) {
	this.game = game;
	this.members = [];
	this.minDist = 20;
	//this.noise = 10;
	this.center = {x : centerX, y : centerY};
	this.clickDist = 50;
	this.selected = false;
	this.selection = this.game.add.sprite(this.center.x, this.center.y, 'selection');
	this.selection.anchor.setTo(0.5, 0.5);
	this.selection.width = 100;
	this.selection.height = 100;
	this.selection.visible = false;
}
Group.prototype.constructor = Group;
Group.prototype.update = function() {
	//console.log('update');
	//calculate center point
	/*
	var centerPoint = {x:0, y:0};
	for (var member in this.members) {
		member = this.members[member];
		centerPoint.x += member.x;
		centerPoint.y += member.y;
	}
	centerPoint.x /= this.members.length;
	centerPoint.y /= this.members.length;
	*/
	// aim towards center then push
	for (var member in this.members) {
		member = this.members[member];
		//if (member.id == '1') { console.log('1', member.velocity); };
		var velocity = {x:0, y:0};
		var diff = {x:0, y:0};
		/*
		diff.x = centerPoint.x - member.x;
		diff.y = centerPoint.y - member.y;
		*/
		diff.x = this.center.x - member.x;
		diff.y = this.center.y - member.y;
		velocity.x += diff.x;
		velocity.y += diff.y;
		//if (member.id == '1') { console.log('2', member.velocity); };
		for (var other in this.members) {
			other = this.members[other];
			//ignore self
			if (other === member) {
				continue;
			}
			var oDiff = {x:0, y:0};
			oDiff.x = other.x - member.x;
			oDiff.y = other.y - member.y;
			var totalDist = util.hypotenuse(oDiff.x, oDiff.y);
			if (totalDist <= this.minDist) {
				//if (member.id == '1') { console.log(oDiff, totalDist); };
				velocity.x = -1 * oDiff.x;
				velocity.y = -1 * oDiff.y;
				continue;
				//if (member.id == '1') { console.log('3', member.velocity); };
			}
		}
		//add noise
		/*
		velocity.x += Math.random() * this.noise - this.noise / 2;
		velocity.y += Math.random() * this.noise - this.noise / 2;
		*/
		//set new velocity
		//if (member.id == '1') { console.log(member.velocity); };
		member.velocity = velocity;
		//console.log(velocity);
	}
};
Group.prototype.addMember = function(member) {
	this.members.push(member);
};
Group.prototype.click = function(member) {
	var mouseX = this.game.input.x;
	var mouseY = this.game.input.y;
	var diffX = mouseX - this.center.x;
	var diffY = mouseY - this.center.y;
	var totalDiff = util.hypotenuse(diffX, diffY);
	//console.log(totalDiff);
	if (totalDiff <= this.clickDist) {
		//this.setSelected(true);
		if (this.selected) {
			this.setSelected(false);
		} else {
			this.setSelected(true);
		}
	} else {
		//this.setSelected(false);
		if (this.selected) {
			this.changeCenter({x : mouseX, y : mouseY});
			this.setSelected(false);
		} else {
			
		}
	}
};
Group.prototype.setSelected = function(newSelected) {
	this.selected = newSelected;
	this.selection.visible = newSelected;
};
Group.prototype.changeCenter = function(newCenter) {
	this.selection.x = newCenter.x;
	this.selection.y = newCenter.y;
	this.center = newCenter;
};
/*
Group.prototype.tryMove = function() {
	if (!this.selected) {
		return;
	}
	var newCenter = {x : this.game.input.x, y : this.game.input.y};
	this.changeCenter(newCenter);
};
*/

module.exports = Group;













},{"../utils":"C:\\HACKUCSC\\src\\js\\utils.js"}],"C:\\HACKUCSC\\src\\js\\entities\\groupManager.js":[function(require,module,exports){
var GroupManager = function (game) {
	this.game = game;
	this.members = [];
	/*
	Phaser.Sprite.call(this, game, x, y, 'person');
	this.velocity = {x:0, y:0};
	this.width = 10;
	this.height = 10;
	this.speed = .05;
	this.id = id;
	*/
};
GroupManager.prototype.constructor = GroupManager;
GroupManager.prototype.update = function() {
	
	/*
	this.x += this.velocity.x * this.speed;
	this.y += this.velocity.y * this.speed;
	//console.log(this.velocity);
	*/
};
GroupManager.prototype.addMember = function(member) {
	this.members.push(member);
};

module.exports = GroupManager;
},{}],"C:\\HACKUCSC\\src\\js\\entities\\person.js":[function(require,module,exports){
var Person = function (game, x, y, id) {
	Phaser.Sprite.call(this, game, x, y, 'person');
	this.velocity = {x:0, y:0};
	this.width = 10;
	this.height = 10;
	this.speed = .05;
	this.id = id;
};
Person.prototype = Object.create(Phaser.Sprite.prototype);
Person.prototype.constructor = Person;
Person.prototype.update = function() {
	this.x += this.velocity.x * this.speed;
	this.y += this.velocity.y * this.speed;
	//console.log(this.velocity);
};

module.exports = Person;
},{}],"C:\\HACKUCSC\\src\\js\\entities\\player.js":[function(require,module,exports){
var Player = function (game, x, y) {
    Phaser.Sprite.call(this, game, x, y, 'testsprite');
    game.add.existing(this);
	this.speed = 0.1;
}

Player.prototype = Object.create(Phaser.Sprite.prototype);
Player.prototype.constructor = Player;

/**
 * Automatically called by World.update
 */
Player.prototype.update = function() {
	//this.x += this.velocity;
};

module.exports = Player;

},{}],"C:\\HACKUCSC\\src\\js\\main.js":[function(require,module,exports){
'use strict';

var game = new Phaser.Game(800, 600, Phaser.AUTO, '-game');

window.Utils = require('./utils');
window.playerState = {
    currentLevel: 'Game'
}

game.state.add('Boot', require('./states/boot'));
game.state.add('Splash', require('./states/splash'));
game.state.add('Preloader', require('./states/preloader'));
game.state.add('Menu', require('./states/menu'));
game.state.add('Game', require('./states/game'));

game.state.start('Boot');

//game.stage.backgroundColor = "#ffffff";

},{"./states/boot":"C:\\HACKUCSC\\src\\js\\states\\boot.js","./states/game":"C:\\HACKUCSC\\src\\js\\states\\game.js","./states/menu":"C:\\HACKUCSC\\src\\js\\states\\menu.js","./states/preloader":"C:\\HACKUCSC\\src\\js\\states\\preloader.js","./states/splash":"C:\\HACKUCSC\\src\\js\\states\\splash.js","./utils":"C:\\HACKUCSC\\src\\js\\utils.js"}],"C:\\HACKUCSC\\src\\js\\states\\boot.js":[function(require,module,exports){
var Boot = function () {};

module.exports = Boot;

Boot.prototype = {

  preload: function () {
    this.load.image('preloader', 'assets/preloader.gif');
  },

  create: function () {
    this.game.input.maxPointers = 1;

    if (this.game.device.desktop) {
      this.game.stage.scale.pageAlignHorizontally = true;
    } else {
      this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
      this.game.scale.minWidth =  480;
      this.game.scale.minHeight = 260;
      this.game.scale.maxWidth = 640;
      this.game.scale.maxHeight = 480;
      this.game.scale.forceLandscape = true;
      this.game.scale.pageAlignHorizontally = true;
      this.game.scale.setScreenSize(true);
    }

    this.game.state.start('Preloader');
  }
};

},{}],"C:\\HACKUCSC\\src\\js\\states\\game.js":[function(require,module,exports){
var Player = require('../entities/player');
var Background_Manager = require('../entities/background_manager');
var Person = require('../entities/person');
var Group = require('../entities/group');
var GroupManager = require('../entities/groupManager');

var Game = function () {
  this.testentity = null;
  this.flocks = [];
  this.bg_mg = null;
};

module.exports = Game;

Game.prototype = {

  create: function () {
	this.game.stage.backgroundColor = "#ffffff";
	  
    var x = (this.game.width / 2) - 100;
    var y = (this.game.height / 2) - 50;

    this.bg_mg = new Background_Manager(this.game);
    /*
    this.testentity = new Player(this.game, x, y);
    this.testentity.anchor.setTo(0.5, 0.5);
    */
	
    this.input.onDown.add(this.onInputDown, this);
	
    var testFlock = new Group(this.game, this.game.width / 2 + 100, this.game.height / 2 + 100);
    this.flocks.push(testFlock);
	
    for (var i = 0; i < 10; i++) {
    	var testPerson = new Person(this.game, this.game.width/2 + i * 15, this.game.height/2 + i * 15, i);
    	this.game.add.existing(testPerson);
    	testFlock.addMember(testPerson);
    }
    var groupManager = new GroupManager(this.game);
    groupManager.addMember(testFlock);
  },

  update: function () {
	/*
    var x, y, cx, cy, dx, dy, angle, scale;

    x = this.input.position.x;
    y = this.input.position.y;
    cx = this.world.centerX;
    cy = this.world.centerY;

    angle = Math.atan2(y - cy, x - cx) * (180 / Math.PI);
    this.testentity.angle = angle;

    dx = x - cx;
    dy = y - cy;
    scale = Math.sqrt(dx * dx + dy * dy) / 100;

    this.testentity.scale.x = scale * 0.6;
    this.testentity.scale.y = scale * 0.6;
	*/
	
	this.flocks[0].update();
  },

  onInputDown: function () {
    //this.game.state.start('Menu');
	//console.log(this.game.input.x, this.game.input.y);
	if (this.game.input.activePointer.leftButton.isDown) {
		this.flocks[0].click();
	}
  }
};

},{"../entities/background_manager":"C:\\HACKUCSC\\src\\js\\entities\\background_manager.js","../entities/group":"C:\\HACKUCSC\\src\\js\\entities\\group.js","../entities/groupManager":"C:\\HACKUCSC\\src\\js\\entities\\groupManager.js","../entities/person":"C:\\HACKUCSC\\src\\js\\entities\\person.js","../entities/player":"C:\\HACKUCSC\\src\\js\\entities\\player.js"}],"C:\\HACKUCSC\\src\\js\\states\\menu.js":[function(require,module,exports){
var Menu = function () {
  this.text = null;
};

module.exports = Menu;

Menu.prototype = {

  create: function () {
    var x = this.game.width / 2;
    var y = this.game.height / 2;

    var style = { font: "65px Arial", fill: "#ffffff", align: "center" };

    this.text = this.add.text(x - 300, y - 200, "Press to Start", style);

    this.input.onDown.add(this.onDown, this);
  },

  update: function () {
  },

  onDown: function () {
    this.game.state.start(playerState.currentLevel);
  }
};

},{}],"C:\\HACKUCSC\\src\\js\\states\\preloader.js":[function(require,module,exports){
var Preloader = function (game) {
  this.asset = null;
  this.ready = false;
};

module.exports = Preloader;

Preloader.prototype = {

  preload: function () {
    this.asset = this.add.sprite(320, 240, 'preloader');
    this.asset.anchor.setTo(0.5, 0.5);

    this.load.onLoadComplete.addOnce(this.onLoadComplete, this);
    this.load.setPreloadSprite(this.asset);
    this.load.image('testsprite', 'assets/test.png');
    this.load.image('background', 'assets/sectorBG.png')
    this.load.image('person', 'assets/person.png');
    this.load.image('selection', 'assets/selection.png');
  },

  create: function () {
    this.asset.cropEnabled = false;
  },

  update: function () {
    if (!!this.ready) {
      this.game.state.start('Game');
    }
  },

  onLoadComplete: function () {
    this.ready = true;
  }
};

},{}],"C:\\HACKUCSC\\src\\js\\states\\splash.js":[function(require,module,exports){
var Splash = function () {
};

module.exports = Splash;

Splash.prototype = {
  create: function () {
  }
};
},{}],"C:\\HACKUCSC\\src\\js\\utils.js":[function(require,module,exports){
var Utils = {
    containsObject: function(obj, list) {
        var i;
        for (i = 0; i < list.length; i++) {
            if (list[i] === obj) {
                return true;
            }
        }

        return false;
    },
	hypotenuse: function(a, b) {
		return Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));
	},
	ratio: function(a, b, c) {
		if (arguments.length === 1) {
			return [a / a];
		}
		else if (arguments.length === 2) {
			return [a / (a + b), b / (a + b)];
		}
		else if (arguments.length === 3) {
			return [a / (a + b + c), b / (a + b + c), c / (a + b + c)];
		}
		else {
			return [];
		}
	}
};


module.exports = Utils;
},{}]},{},["C:\\HACKUCSC\\src\\js\\main.js"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZW50aXRpZXMvYmFja2dyb3VuZC5qcyIsInNyYy9qcy9lbnRpdGllcy9iYWNrZ3JvdW5kX21hbmFnZXIuanMiLCJzcmMvanMvZW50aXRpZXMvZ3JvdXAuanMiLCJzcmMvanMvZW50aXRpZXMvZ3JvdXBNYW5hZ2VyLmpzIiwic3JjL2pzL2VudGl0aWVzL3BlcnNvbi5qcyIsInNyYy9qcy9lbnRpdGllcy9wbGF5ZXIuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9zdGF0ZXMvYm9vdC5qcyIsInNyYy9qcy9zdGF0ZXMvZ2FtZS5qcyIsInNyYy9qcy9zdGF0ZXMvbWVudS5qcyIsInNyYy9qcy9zdGF0ZXMvcHJlbG9hZGVyLmpzIiwic3JjL2pzL3N0YXRlcy9zcGxhc2guanMiLCJzcmMvanMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxyXG52YXIgQmFja2dyb3VuZCA9IGZ1bmN0aW9uIChnYW1lLCB4LCB5LCBpbmNvbWUsIHR5cGUpIHtcclxuICAgIFBoYXNlci5TcHJpdGUuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAnYmFja2dyb3VuZCcpO1xyXG4gICAgZ2FtZS5hZGQuZXhpc3RpbmcodGhpcyk7XHJcbiAgICB0aGlzLm51bVBlb3BsZSA9IDA7XHJcbiAgIFx0dGhpcy5ncm91cHMgPSBbXTtcclxuICAgXHR0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgdGhpcy5pbmNvbWVMZXZlbCA9IG51bGw7XHJcbiAgICBpZiAoaW5jb21lID09PSAnbG93Jykge1xyXG4gICAgXHR0aGlzLmluY29tZUxldmVsID0gJ2xvdyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmNvbWUgPT09ICdtaWQnKSB7XHJcbiAgICBcdHRoaXMuaW5jb21lTGV2ZWwgPSAnbWlkJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluY29tZSA9PT0gJ2hpZ2gnKSB7XHJcbiAgICBcdHRoaXMuaW5jb21lTGV2ZWwgPSAnaGlnaCc7XHJcbiAgICB9XHJcbn07XHJcblxyXG5CYWNrZ3JvdW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGhhc2VyLlNwcml0ZS5wcm90b3R5cGUpO1xyXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhY2tncm91bmQ7XHJcblxyXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQmFja2dyb3VuZDsiLCIvL0NvbnRyb2xzIGJhY2tncm91bmQgZWxlbWVudHNcclxuXHJcbnZhciBCYWNrZ3JvdW5kID0gcmVxdWlyZSgnLi9iYWNrZ3JvdW5kJyk7XHJcbnZhciBQbGF5ZXIgPSByZXF1aXJlKCcuL3BsYXllcicpO1xyXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XHJcblxyXG52YXIgQmFja2dyb3VuZF9NYW5hZ2VyID0gZnVuY3Rpb24oZ2FtZSkge1xyXG5cdHRoaXMuZ2FtZSA9IGdhbWU7XHJcblxyXG5cdC8vQ3JlYXRlIGFycmF5IG9mIGJhY2tncm91bmRzXHJcblx0dmFyIGJnQXJyYXkgPSBbXHJcblx0XHRuZXcgQmFja2dyb3VuZCh0aGlzLmdhbWUsIDAsIDAsICdsb3cnLCAnd29yaycpLFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGJnQXJyYXlbMF0gPT0gd29ya0xvd1xyXG5cdFx0bmV3IEJhY2tncm91bmQodGhpcy5nYW1lLCB0aGlzLmdhbWUud2lkdGggLyAzLCAwLCAnbWlkJywgJ3dvcmsnKSxcdFx0XHRcdFx0XHRcdC8vIGJnQXJyYXlbMV0gPT0gd29ya01pZFxyXG5cdFx0bmV3IEJhY2tncm91bmQodGhpcy5nYW1lLCAyICogdGhpcy5nYW1lLndpZHRoIC8gMywgMCwgJ2hpZ2gnLCAnd29yaycpLFx0XHRcdFx0XHRcdC8vIGJnQXJyYXlbMl0gPT0gd29ya01pZFxyXG5cdFx0bmV3IEJhY2tncm91bmQodGhpcy5nYW1lLCAwLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMywgJ2xvdycsICdob3VzZScpLFx0XHRcdFx0XHRcdFx0Ly8gYmdBcnJheVszXSA9PSBob3VzZUxvd1xyXG5cdFx0bmV3IEJhY2tncm91bmQodGhpcy5nYW1lLCB0aGlzLmdhbWUud2lkdGggLyAzLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMywgJ21pZCcsICdob3VzZScpLFx0XHRcdC8vIGJnQXJyYXlbNF0gPT0gaG91c2VNaWRcclxuXHRcdG5ldyBCYWNrZ3JvdW5kKHRoaXMuZ2FtZSwgMiAqIHRoaXMuZ2FtZS53aWR0aCAvIDMsIHRoaXMuZ2FtZS5oZWlnaHQgLyAzLCAnaGlnaCcsICdob3VzZScpLFx0Ly8gYmdBcnJheVs1XSA9PSBob3VzZU1pZFxyXG5cdFx0bmV3IEJhY2tncm91bmQodGhpcy5nYW1lLCAwLCAyICogdGhpcy5nYW1lLmhlaWdodCAvIDMsICcnLCAndW5lbXBsb3llZCcpLFx0XHRcdFx0XHQvLyBiZ0FycmF5WzZdID09IHVuZW1wbG95ZWRcclxuXHRdO1xyXG5cdFxyXG5cdHRoaXMuYmdOYW1lcyA9IHtcclxuXHRcdHdvcmtMb3cgICAgOiBiZ0FycmF5WzBdLFxyXG5cdFx0d29ya01pZCAgICA6IGJnQXJyYXlbMV0sXHJcblx0XHR3b3JrSGlnaCAgIDogYmdBcnJheVsyXSxcclxuXHRcdGhvdXNlTG93ICAgOiBiZ0FycmF5WzNdLFxyXG5cdFx0aG91c2VNaWQgICA6IGJnQXJyYXlbNF0sXHJcblx0XHRob3VzZUhpZ2ggIDogYmdBcnJheVs1XSxcclxuXHRcdHVuZW1wbG95ZWQgOiBiZ0FycmF5WzZdXHJcblx0fTtcclxuXHRcclxuXHRmb3IgKHZhciBpIGluIGJnQXJyYXkpIHtcclxuXHRcdGlmIChiZ0FycmF5W2ldLnR5cGUgPT0gJ3dvcmsnKSB7XHJcblx0XHRcdGlmIChiZ0FycmF5W2ldLmluY29tZUxldmVsID09PSAnbG93Jykge1xyXG5cdFx0XHRcdGJnQXJyYXlbaV0udGludCA9IDB4ZTI0MDJiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKGJnQXJyYXlbaV0uaW5jb21lTGV2ZWwgPT09ICdtaWQnKSB7XHJcblx0XHRcdFx0YmdBcnJheVtpXS50aW50ID0gMHg1NmUyMmI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoYmdBcnJheVtpXS5pbmNvbWVMZXZlbCA9PT0gJ2hpZ2gnKSB7XHJcblx0XHRcdFx0YmdBcnJheVtpXS50aW50ID0gMHgyYjU5ZTI7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKGJnQXJyYXlbaV0udHlwZSA9PSAnaG91c2UnKSB7XHJcblx0XHRcdGlmIChiZ0FycmF5W2ldLmluY29tZUxldmVsID09PSAnbG93Jykge1xyXG5cdFx0XHRcdGJnQXJyYXlbaV0udGludCA9IDB4ZTU1MzQwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKGJnQXJyYXlbaV0uaW5jb21lTGV2ZWwgPT09ICdtaWQnKSB7XHJcblx0XHRcdFx0YmdBcnJheVtpXS50aW50ID0gMHg2YWUyNDY7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoYmdBcnJheVtpXS5pbmNvbWVMZXZlbCA9PT0gJ2hpZ2gnKSB7XHJcblx0XHRcdFx0YmdBcnJheVtpXS50aW50ID0gMHg1NDc2ZGQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2UgeyAvLyBVbmVtcGxveWVkIGJhY2tncm91bmRcclxuXHRcdFx0YmdBcnJheVtpXS50aW50ID0gMHg5MzkzOTM7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuQmFja2dyb3VuZF9NYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhY2tncm91bmRfTWFuYWdlcjtcclxuXHJcblxyXG5CYWNrZ3JvdW5kX01hbmFnZXIucHJvdG90eXBlLmNoYW5nZVdvcmsgPSBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uLCBncm91cCkge1xyXG5cdFxyXG5cdC8vIGNhblRyYW5zZmVyKHNvdXJjZSwgZGVzdGluYXRpb24sIGdyb3VwKSBDaGVjayBpZiB0aGV5IGNhbiB0cmFuc2ZlciB1cFxyXG5cdFxyXG5cdHZhciBpbmRleCA9IHNvdXJjZS5ncm91cHMuaW5kZXhPZihncm91cCk7XHJcblx0aWYgKGluZGV4ID4gLTEpIHtcclxuICAgIFx0c291cmNlLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdH1cclxuXHRkZXN0aW5hdGlvbi5ncm91cHMucHVzaChncm91cCk7XHJcblx0c291cmNlLnVwZGF0ZSgpOyAvLyBVc2VkIGZvciBjaGFuZ2luZyBiYWNrZ3JvdW5kIHNpemVcclxuXHRkZXN0aW5hdGlvbi51cGRhdGUoKTtcclxuXHJcblx0XHJcbn07XHJcblxyXG5CYWNrZ3JvdW5kX01hbmFnZXIucHJvdG90eXBlLmNoYW5nZUhvdXNlID0gZnVuY3Rpb24oc291cmNlLCBkZXN0aW5hdGlvbiwgZ3JvdXApIHtcclxuXHJcbn07XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCYWNrZ3JvdW5kX01hbmFnZXI7IiwiLy9jb250cm9scyBmbG9ja2luZyBmb3IgYSBncm91cCBvZiBwZXJzb24gb2JqZWN0c1xyXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XHJcblxyXG52YXIgR3JvdXAgPSBmdW5jdGlvbiAoZ2FtZSwgY2VudGVyWCwgY2VudGVyWSkge1xyXG5cdHRoaXMuZ2FtZSA9IGdhbWU7XHJcblx0dGhpcy5tZW1iZXJzID0gW107XHJcblx0dGhpcy5taW5EaXN0ID0gMjA7XHJcblx0Ly90aGlzLm5vaXNlID0gMTA7XHJcblx0dGhpcy5jZW50ZXIgPSB7eCA6IGNlbnRlclgsIHkgOiBjZW50ZXJZfTtcclxuXHR0aGlzLmNsaWNrRGlzdCA9IDUwO1xyXG5cdHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHR0aGlzLnNlbGVjdGlvbiA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKHRoaXMuY2VudGVyLngsIHRoaXMuY2VudGVyLnksICdzZWxlY3Rpb24nKTtcclxuXHR0aGlzLnNlbGVjdGlvbi5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xyXG5cdHRoaXMuc2VsZWN0aW9uLndpZHRoID0gMTAwO1xyXG5cdHRoaXMuc2VsZWN0aW9uLmhlaWdodCA9IDEwMDtcclxuXHR0aGlzLnNlbGVjdGlvbi52aXNpYmxlID0gZmFsc2U7XHJcbn1cclxuR3JvdXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR3JvdXA7XHJcbkdyb3VwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuXHQvL2NvbnNvbGUubG9nKCd1cGRhdGUnKTtcclxuXHQvL2NhbGN1bGF0ZSBjZW50ZXIgcG9pbnRcclxuXHQvKlxyXG5cdHZhciBjZW50ZXJQb2ludCA9IHt4OjAsIHk6MH07XHJcblx0Zm9yICh2YXIgbWVtYmVyIGluIHRoaXMubWVtYmVycykge1xyXG5cdFx0bWVtYmVyID0gdGhpcy5tZW1iZXJzW21lbWJlcl07XHJcblx0XHRjZW50ZXJQb2ludC54ICs9IG1lbWJlci54O1xyXG5cdFx0Y2VudGVyUG9pbnQueSArPSBtZW1iZXIueTtcclxuXHR9XHJcblx0Y2VudGVyUG9pbnQueCAvPSB0aGlzLm1lbWJlcnMubGVuZ3RoO1xyXG5cdGNlbnRlclBvaW50LnkgLz0gdGhpcy5tZW1iZXJzLmxlbmd0aDtcclxuXHQqL1xyXG5cdC8vIGFpbSB0b3dhcmRzIGNlbnRlciB0aGVuIHB1c2hcclxuXHRmb3IgKHZhciBtZW1iZXIgaW4gdGhpcy5tZW1iZXJzKSB7XHJcblx0XHRtZW1iZXIgPSB0aGlzLm1lbWJlcnNbbWVtYmVyXTtcclxuXHRcdC8vaWYgKG1lbWJlci5pZCA9PSAnMScpIHsgY29uc29sZS5sb2coJzEnLCBtZW1iZXIudmVsb2NpdHkpOyB9O1xyXG5cdFx0dmFyIHZlbG9jaXR5ID0ge3g6MCwgeTowfTtcclxuXHRcdHZhciBkaWZmID0ge3g6MCwgeTowfTtcclxuXHRcdC8qXHJcblx0XHRkaWZmLnggPSBjZW50ZXJQb2ludC54IC0gbWVtYmVyLng7XHJcblx0XHRkaWZmLnkgPSBjZW50ZXJQb2ludC55IC0gbWVtYmVyLnk7XHJcblx0XHQqL1xyXG5cdFx0ZGlmZi54ID0gdGhpcy5jZW50ZXIueCAtIG1lbWJlci54O1xyXG5cdFx0ZGlmZi55ID0gdGhpcy5jZW50ZXIueSAtIG1lbWJlci55O1xyXG5cdFx0dmVsb2NpdHkueCArPSBkaWZmLng7XHJcblx0XHR2ZWxvY2l0eS55ICs9IGRpZmYueTtcclxuXHRcdC8vaWYgKG1lbWJlci5pZCA9PSAnMScpIHsgY29uc29sZS5sb2coJzInLCBtZW1iZXIudmVsb2NpdHkpOyB9O1xyXG5cdFx0Zm9yICh2YXIgb3RoZXIgaW4gdGhpcy5tZW1iZXJzKSB7XHJcblx0XHRcdG90aGVyID0gdGhpcy5tZW1iZXJzW290aGVyXTtcclxuXHRcdFx0Ly9pZ25vcmUgc2VsZlxyXG5cdFx0XHRpZiAob3RoZXIgPT09IG1lbWJlcikge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBvRGlmZiA9IHt4OjAsIHk6MH07XHJcblx0XHRcdG9EaWZmLnggPSBvdGhlci54IC0gbWVtYmVyLng7XHJcblx0XHRcdG9EaWZmLnkgPSBvdGhlci55IC0gbWVtYmVyLnk7XHJcblx0XHRcdHZhciB0b3RhbERpc3QgPSB1dGlsLmh5cG90ZW51c2Uob0RpZmYueCwgb0RpZmYueSk7XHJcblx0XHRcdGlmICh0b3RhbERpc3QgPD0gdGhpcy5taW5EaXN0KSB7XHJcblx0XHRcdFx0Ly9pZiAobWVtYmVyLmlkID09ICcxJykgeyBjb25zb2xlLmxvZyhvRGlmZiwgdG90YWxEaXN0KTsgfTtcclxuXHRcdFx0XHR2ZWxvY2l0eS54ID0gLTEgKiBvRGlmZi54O1xyXG5cdFx0XHRcdHZlbG9jaXR5LnkgPSAtMSAqIG9EaWZmLnk7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0Ly9pZiAobWVtYmVyLmlkID09ICcxJykgeyBjb25zb2xlLmxvZygnMycsIG1lbWJlci52ZWxvY2l0eSk7IH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vYWRkIG5vaXNlXHJcblx0XHQvKlxyXG5cdFx0dmVsb2NpdHkueCArPSBNYXRoLnJhbmRvbSgpICogdGhpcy5ub2lzZSAtIHRoaXMubm9pc2UgLyAyO1xyXG5cdFx0dmVsb2NpdHkueSArPSBNYXRoLnJhbmRvbSgpICogdGhpcy5ub2lzZSAtIHRoaXMubm9pc2UgLyAyO1xyXG5cdFx0Ki9cclxuXHRcdC8vc2V0IG5ldyB2ZWxvY2l0eVxyXG5cdFx0Ly9pZiAobWVtYmVyLmlkID09ICcxJykgeyBjb25zb2xlLmxvZyhtZW1iZXIudmVsb2NpdHkpOyB9O1xyXG5cdFx0bWVtYmVyLnZlbG9jaXR5ID0gdmVsb2NpdHk7XHJcblx0XHQvL2NvbnNvbGUubG9nKHZlbG9jaXR5KTtcclxuXHR9XHJcbn07XHJcbkdyb3VwLnByb3RvdHlwZS5hZGRNZW1iZXIgPSBmdW5jdGlvbihtZW1iZXIpIHtcclxuXHR0aGlzLm1lbWJlcnMucHVzaChtZW1iZXIpO1xyXG59O1xyXG5Hcm91cC5wcm90b3R5cGUuY2xpY2sgPSBmdW5jdGlvbihtZW1iZXIpIHtcclxuXHR2YXIgbW91c2VYID0gdGhpcy5nYW1lLmlucHV0Lng7XHJcblx0dmFyIG1vdXNlWSA9IHRoaXMuZ2FtZS5pbnB1dC55O1xyXG5cdHZhciBkaWZmWCA9IG1vdXNlWCAtIHRoaXMuY2VudGVyLng7XHJcblx0dmFyIGRpZmZZID0gbW91c2VZIC0gdGhpcy5jZW50ZXIueTtcclxuXHR2YXIgdG90YWxEaWZmID0gdXRpbC5oeXBvdGVudXNlKGRpZmZYLCBkaWZmWSk7XHJcblx0Ly9jb25zb2xlLmxvZyh0b3RhbERpZmYpO1xyXG5cdGlmICh0b3RhbERpZmYgPD0gdGhpcy5jbGlja0Rpc3QpIHtcclxuXHRcdC8vdGhpcy5zZXRTZWxlY3RlZCh0cnVlKTtcclxuXHRcdGlmICh0aGlzLnNlbGVjdGVkKSB7XHJcblx0XHRcdHRoaXMuc2V0U2VsZWN0ZWQoZmFsc2UpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5zZXRTZWxlY3RlZCh0cnVlKTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly90aGlzLnNldFNlbGVjdGVkKGZhbHNlKTtcclxuXHRcdGlmICh0aGlzLnNlbGVjdGVkKSB7XHJcblx0XHRcdHRoaXMuY2hhbmdlQ2VudGVyKHt4IDogbW91c2VYLCB5IDogbW91c2VZfSk7XHJcblx0XHRcdHRoaXMuc2V0U2VsZWN0ZWQoZmFsc2UpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5Hcm91cC5wcm90b3R5cGUuc2V0U2VsZWN0ZWQgPSBmdW5jdGlvbihuZXdTZWxlY3RlZCkge1xyXG5cdHRoaXMuc2VsZWN0ZWQgPSBuZXdTZWxlY3RlZDtcclxuXHR0aGlzLnNlbGVjdGlvbi52aXNpYmxlID0gbmV3U2VsZWN0ZWQ7XHJcbn07XHJcbkdyb3VwLnByb3RvdHlwZS5jaGFuZ2VDZW50ZXIgPSBmdW5jdGlvbihuZXdDZW50ZXIpIHtcclxuXHR0aGlzLnNlbGVjdGlvbi54ID0gbmV3Q2VudGVyLng7XHJcblx0dGhpcy5zZWxlY3Rpb24ueSA9IG5ld0NlbnRlci55O1xyXG5cdHRoaXMuY2VudGVyID0gbmV3Q2VudGVyO1xyXG59O1xyXG4vKlxyXG5Hcm91cC5wcm90b3R5cGUudHJ5TW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdGlmICghdGhpcy5zZWxlY3RlZCkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHR2YXIgbmV3Q2VudGVyID0ge3ggOiB0aGlzLmdhbWUuaW5wdXQueCwgeSA6IHRoaXMuZ2FtZS5pbnB1dC55fTtcclxuXHR0aGlzLmNoYW5nZUNlbnRlcihuZXdDZW50ZXIpO1xyXG59O1xyXG4qL1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBHcm91cDtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwidmFyIEdyb3VwTWFuYWdlciA9IGZ1bmN0aW9uIChnYW1lKSB7XHJcblx0dGhpcy5nYW1lID0gZ2FtZTtcclxuXHR0aGlzLm1lbWJlcnMgPSBbXTtcclxuXHQvKlxyXG5cdFBoYXNlci5TcHJpdGUuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAncGVyc29uJyk7XHJcblx0dGhpcy52ZWxvY2l0eSA9IHt4OjAsIHk6MH07XHJcblx0dGhpcy53aWR0aCA9IDEwO1xyXG5cdHRoaXMuaGVpZ2h0ID0gMTA7XHJcblx0dGhpcy5zcGVlZCA9IC4wNTtcclxuXHR0aGlzLmlkID0gaWQ7XHJcblx0Ki9cclxufTtcclxuR3JvdXBNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyb3VwTWFuYWdlcjtcclxuR3JvdXBNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcclxuXHQvKlxyXG5cdHRoaXMueCArPSB0aGlzLnZlbG9jaXR5LnggKiB0aGlzLnNwZWVkO1xyXG5cdHRoaXMueSArPSB0aGlzLnZlbG9jaXR5LnkgKiB0aGlzLnNwZWVkO1xyXG5cdC8vY29uc29sZS5sb2codGhpcy52ZWxvY2l0eSk7XHJcblx0Ki9cclxufTtcclxuR3JvdXBNYW5hZ2VyLnByb3RvdHlwZS5hZGRNZW1iZXIgPSBmdW5jdGlvbihtZW1iZXIpIHtcclxuXHR0aGlzLm1lbWJlcnMucHVzaChtZW1iZXIpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBHcm91cE1hbmFnZXI7IiwidmFyIFBlcnNvbiA9IGZ1bmN0aW9uIChnYW1lLCB4LCB5LCBpZCkge1xyXG5cdFBoYXNlci5TcHJpdGUuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAncGVyc29uJyk7XHJcblx0dGhpcy52ZWxvY2l0eSA9IHt4OjAsIHk6MH07XHJcblx0dGhpcy53aWR0aCA9IDEwO1xyXG5cdHRoaXMuaGVpZ2h0ID0gMTA7XHJcblx0dGhpcy5zcGVlZCA9IC4wNTtcclxuXHR0aGlzLmlkID0gaWQ7XHJcbn07XHJcblBlcnNvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBoYXNlci5TcHJpdGUucHJvdG90eXBlKTtcclxuUGVyc29uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBlcnNvbjtcclxuUGVyc29uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuXHR0aGlzLnggKz0gdGhpcy52ZWxvY2l0eS54ICogdGhpcy5zcGVlZDtcclxuXHR0aGlzLnkgKz0gdGhpcy52ZWxvY2l0eS55ICogdGhpcy5zcGVlZDtcclxuXHQvL2NvbnNvbGUubG9nKHRoaXMudmVsb2NpdHkpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBQZXJzb247IiwidmFyIFBsYXllciA9IGZ1bmN0aW9uIChnYW1lLCB4LCB5KSB7XHJcbiAgICBQaGFzZXIuU3ByaXRlLmNhbGwodGhpcywgZ2FtZSwgeCwgeSwgJ3Rlc3RzcHJpdGUnKTtcclxuICAgIGdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xyXG5cdHRoaXMuc3BlZWQgPSAwLjE7XHJcbn1cclxuXHJcblBsYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBoYXNlci5TcHJpdGUucHJvdG90eXBlKTtcclxuUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBsYXllcjtcclxuXHJcbi8qKlxyXG4gKiBBdXRvbWF0aWNhbGx5IGNhbGxlZCBieSBXb3JsZC51cGRhdGVcclxuICovXHJcblBsYXllci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcblx0Ly90aGlzLnggKz0gdGhpcy52ZWxvY2l0eTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUGxheWVyO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG52YXIgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSg4MDAsIDYwMCwgUGhhc2VyLkFVVE8sICctZ2FtZScpO1xyXG5cclxud2luZG93LlV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG53aW5kb3cucGxheWVyU3RhdGUgPSB7XHJcbiAgICBjdXJyZW50TGV2ZWw6ICdHYW1lJ1xyXG59XHJcblxyXG5nYW1lLnN0YXRlLmFkZCgnQm9vdCcsIHJlcXVpcmUoJy4vc3RhdGVzL2Jvb3QnKSk7XHJcbmdhbWUuc3RhdGUuYWRkKCdTcGxhc2gnLCByZXF1aXJlKCcuL3N0YXRlcy9zcGxhc2gnKSk7XHJcbmdhbWUuc3RhdGUuYWRkKCdQcmVsb2FkZXInLCByZXF1aXJlKCcuL3N0YXRlcy9wcmVsb2FkZXInKSk7XHJcbmdhbWUuc3RhdGUuYWRkKCdNZW51JywgcmVxdWlyZSgnLi9zdGF0ZXMvbWVudScpKTtcclxuZ2FtZS5zdGF0ZS5hZGQoJ0dhbWUnLCByZXF1aXJlKCcuL3N0YXRlcy9nYW1lJykpO1xyXG5cclxuZ2FtZS5zdGF0ZS5zdGFydCgnQm9vdCcpO1xyXG5cclxuLy9nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4iLCJ2YXIgQm9vdCA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCb290O1xyXG5cclxuQm9vdC5wcm90b3R5cGUgPSB7XHJcblxyXG4gIHByZWxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgncHJlbG9hZGVyJywgJ2Fzc2V0cy9wcmVsb2FkZXIuZ2lmJyk7XHJcbiAgfSxcclxuXHJcbiAgY3JlYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmdhbWUuaW5wdXQubWF4UG9pbnRlcnMgPSAxO1xyXG5cclxuICAgIGlmICh0aGlzLmdhbWUuZGV2aWNlLmRlc2t0b3ApIHtcclxuICAgICAgdGhpcy5nYW1lLnN0YWdlLnNjYWxlLnBhZ2VBbGlnbkhvcml6b250YWxseSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUuc2NhbGVNb2RlID0gUGhhc2VyLlNjYWxlTWFuYWdlci5TSE9XX0FMTDtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1pbldpZHRoID0gIDQ4MDtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1pbkhlaWdodCA9IDI2MDtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1heFdpZHRoID0gNjQwO1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUubWF4SGVpZ2h0ID0gNDgwO1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUuZm9yY2VMYW5kc2NhcGUgPSB0cnVlO1xyXG4gICAgICB0aGlzLmdhbWUuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFNjcmVlblNpemUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdQcmVsb2FkZXInKTtcclxuICB9XHJcbn07XHJcbiIsInZhciBQbGF5ZXIgPSByZXF1aXJlKCcuLi9lbnRpdGllcy9wbGF5ZXInKTtcclxudmFyIEJhY2tncm91bmRfTWFuYWdlciA9IHJlcXVpcmUoJy4uL2VudGl0aWVzL2JhY2tncm91bmRfbWFuYWdlcicpO1xyXG52YXIgUGVyc29uID0gcmVxdWlyZSgnLi4vZW50aXRpZXMvcGVyc29uJyk7XHJcbnZhciBHcm91cCA9IHJlcXVpcmUoJy4uL2VudGl0aWVzL2dyb3VwJyk7XHJcbnZhciBHcm91cE1hbmFnZXIgPSByZXF1aXJlKCcuLi9lbnRpdGllcy9ncm91cE1hbmFnZXInKTtcclxuXHJcbnZhciBHYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMudGVzdGVudGl0eSA9IG51bGw7XHJcbiAgdGhpcy5mbG9ja3MgPSBbXTtcclxuICB0aGlzLmJnX21nID0gbnVsbDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gR2FtZTtcclxuXHJcbkdhbWUucHJvdG90eXBlID0ge1xyXG5cclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHR0aGlzLmdhbWUuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcblx0ICBcclxuICAgIHZhciB4ID0gKHRoaXMuZ2FtZS53aWR0aCAvIDIpIC0gMTAwO1xyXG4gICAgdmFyIHkgPSAodGhpcy5nYW1lLmhlaWdodCAvIDIpIC0gNTA7XHJcblxyXG4gICAgdGhpcy5iZ19tZyA9IG5ldyBCYWNrZ3JvdW5kX01hbmFnZXIodGhpcy5nYW1lKTtcclxuICAgIC8qXHJcbiAgICB0aGlzLnRlc3RlbnRpdHkgPSBuZXcgUGxheWVyKHRoaXMuZ2FtZSwgeCwgeSk7XHJcbiAgICB0aGlzLnRlc3RlbnRpdHkuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcclxuICAgICovXHJcblx0XHJcbiAgICB0aGlzLmlucHV0Lm9uRG93bi5hZGQodGhpcy5vbklucHV0RG93biwgdGhpcyk7XHJcblx0XHJcbiAgICB2YXIgdGVzdEZsb2NrID0gbmV3IEdyb3VwKHRoaXMuZ2FtZSwgdGhpcy5nYW1lLndpZHRoIC8gMiArIDEwMCwgdGhpcy5nYW1lLmhlaWdodCAvIDIgKyAxMDApO1xyXG4gICAgdGhpcy5mbG9ja3MucHVzaCh0ZXN0RmxvY2spO1xyXG5cdFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICBcdHZhciB0ZXN0UGVyc29uID0gbmV3IFBlcnNvbih0aGlzLmdhbWUsIHRoaXMuZ2FtZS53aWR0aC8yICsgaSAqIDE1LCB0aGlzLmdhbWUuaGVpZ2h0LzIgKyBpICogMTUsIGkpO1xyXG4gICAgXHR0aGlzLmdhbWUuYWRkLmV4aXN0aW5nKHRlc3RQZXJzb24pO1xyXG4gICAgXHR0ZXN0RmxvY2suYWRkTWVtYmVyKHRlc3RQZXJzb24pO1xyXG4gICAgfVxyXG4gICAgdmFyIGdyb3VwTWFuYWdlciA9IG5ldyBHcm91cE1hbmFnZXIodGhpcy5nYW1lKTtcclxuICAgIGdyb3VwTWFuYWdlci5hZGRNZW1iZXIodGVzdEZsb2NrKTtcclxuICB9LFxyXG5cclxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHQvKlxyXG4gICAgdmFyIHgsIHksIGN4LCBjeSwgZHgsIGR5LCBhbmdsZSwgc2NhbGU7XHJcblxyXG4gICAgeCA9IHRoaXMuaW5wdXQucG9zaXRpb24ueDtcclxuICAgIHkgPSB0aGlzLmlucHV0LnBvc2l0aW9uLnk7XHJcbiAgICBjeCA9IHRoaXMud29ybGQuY2VudGVyWDtcclxuICAgIGN5ID0gdGhpcy53b3JsZC5jZW50ZXJZO1xyXG5cclxuICAgIGFuZ2xlID0gTWF0aC5hdGFuMih5IC0gY3ksIHggLSBjeCkgKiAoMTgwIC8gTWF0aC5QSSk7XHJcbiAgICB0aGlzLnRlc3RlbnRpdHkuYW5nbGUgPSBhbmdsZTtcclxuXHJcbiAgICBkeCA9IHggLSBjeDtcclxuICAgIGR5ID0geSAtIGN5O1xyXG4gICAgc2NhbGUgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIC8gMTAwO1xyXG5cclxuICAgIHRoaXMudGVzdGVudGl0eS5zY2FsZS54ID0gc2NhbGUgKiAwLjY7XHJcbiAgICB0aGlzLnRlc3RlbnRpdHkuc2NhbGUueSA9IHNjYWxlICogMC42O1xyXG5cdCovXHJcblx0XHJcblx0dGhpcy5mbG9ja3NbMF0udXBkYXRlKCk7XHJcbiAgfSxcclxuXHJcbiAgb25JbnB1dERvd246IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdNZW51Jyk7XHJcblx0Ly9jb25zb2xlLmxvZyh0aGlzLmdhbWUuaW5wdXQueCwgdGhpcy5nYW1lLmlucHV0LnkpO1xyXG5cdGlmICh0aGlzLmdhbWUuaW5wdXQuYWN0aXZlUG9pbnRlci5sZWZ0QnV0dG9uLmlzRG93bikge1xyXG5cdFx0dGhpcy5mbG9ja3NbMF0uY2xpY2soKTtcclxuXHR9XHJcbiAgfVxyXG59O1xyXG4iLCJ2YXIgTWVudSA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLnRleHQgPSBudWxsO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNZW51O1xyXG5cclxuTWVudS5wcm90b3R5cGUgPSB7XHJcblxyXG4gIGNyZWF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSB0aGlzLmdhbWUud2lkdGggLyAyO1xyXG4gICAgdmFyIHkgPSB0aGlzLmdhbWUuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICB2YXIgc3R5bGUgPSB7IGZvbnQ6IFwiNjVweCBBcmlhbFwiLCBmaWxsOiBcIiNmZmZmZmZcIiwgYWxpZ246IFwiY2VudGVyXCIgfTtcclxuXHJcbiAgICB0aGlzLnRleHQgPSB0aGlzLmFkZC50ZXh0KHggLSAzMDAsIHkgLSAyMDAsIFwiUHJlc3MgdG8gU3RhcnRcIiwgc3R5bGUpO1xyXG5cclxuICAgIHRoaXMuaW5wdXQub25Eb3duLmFkZCh0aGlzLm9uRG93biwgdGhpcyk7XHJcbiAgfSxcclxuXHJcbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgfSxcclxuXHJcbiAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQocGxheWVyU3RhdGUuY3VycmVudExldmVsKTtcclxuICB9XHJcbn07XHJcbiIsInZhciBQcmVsb2FkZXIgPSBmdW5jdGlvbiAoZ2FtZSkge1xyXG4gIHRoaXMuYXNzZXQgPSBudWxsO1xyXG4gIHRoaXMucmVhZHkgPSBmYWxzZTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUHJlbG9hZGVyO1xyXG5cclxuUHJlbG9hZGVyLnByb3RvdHlwZSA9IHtcclxuXHJcbiAgcHJlbG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5hc3NldCA9IHRoaXMuYWRkLnNwcml0ZSgzMjAsIDI0MCwgJ3ByZWxvYWRlcicpO1xyXG4gICAgdGhpcy5hc3NldC5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xyXG5cclxuICAgIHRoaXMubG9hZC5vbkxvYWRDb21wbGV0ZS5hZGRPbmNlKHRoaXMub25Mb2FkQ29tcGxldGUsIHRoaXMpO1xyXG4gICAgdGhpcy5sb2FkLnNldFByZWxvYWRTcHJpdGUodGhpcy5hc3NldCk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ3Rlc3RzcHJpdGUnLCAnYXNzZXRzL3Rlc3QucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnYXNzZXRzL3NlY3RvckJHLnBuZycpXHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcnNvbicsICdhc3NldHMvcGVyc29uLnBuZycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdzZWxlY3Rpb24nLCAnYXNzZXRzL3NlbGVjdGlvbi5wbmcnKTtcclxuICB9LFxyXG5cclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuYXNzZXQuY3JvcEVuYWJsZWQgPSBmYWxzZTtcclxuICB9LFxyXG5cclxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghIXRoaXMucmVhZHkpIHtcclxuICAgICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdHYW1lJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgb25Mb2FkQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMucmVhZHkgPSB0cnVlO1xyXG4gIH1cclxufTtcclxuIiwidmFyIFNwbGFzaCA9IGZ1bmN0aW9uICgpIHtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gU3BsYXNoO1xyXG5cclxuU3BsYXNoLnByb3RvdHlwZSA9IHtcclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICB9XHJcbn07IiwidmFyIFV0aWxzID0ge1xyXG4gICAgY29udGFpbnNPYmplY3Q6IGZ1bmN0aW9uKG9iaiwgbGlzdCkge1xyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChsaXN0W2ldID09PSBvYmopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cdGh5cG90ZW51c2U6IGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYSwgMikgKyBNYXRoLnBvdyhiLCAyKSk7XHJcblx0fSxcclxuXHRyYXRpbzogZnVuY3Rpb24oYSwgYiwgYykge1xyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuXHRcdFx0cmV0dXJuIFthIC8gYV07XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XHJcblx0XHRcdHJldHVybiBbYSAvIChhICsgYiksIGIgLyAoYSArIGIpXTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcclxuXHRcdFx0cmV0dXJuIFthIC8gKGEgKyBiICsgYyksIGIgLyAoYSArIGIgKyBjKSwgYyAvIChhICsgYiArIGMpXTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVXRpbHM7Il19
